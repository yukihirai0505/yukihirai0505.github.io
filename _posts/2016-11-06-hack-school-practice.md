---
layout: post
title:  "ハッカーの学校 実践編で出てきた用語一部抜粋"
date:   2016-11-06 12:00:00 +0900
categories: Development
---

本日もハッカーの学校を読んだので
出てきた用語など一部抜粋してまとめてみます。

## ネットワークのハッキング

ハッキングといえば

- サーバー侵入
- 遠隔操作
- WEBアプリのハッキング
- ネットワークの盗聴
- サービス不能攻撃

などがあげられるが
ハッカーの学校では ***サーバー侵入*** に絞って解説している。
 
サーバ侵入する上で成功させるためには管理者権限を手にすることができれば
保存された個人情報や機密情報
どんなファイルでも自由自在にアクセスできる。
また、さらなる内部のサーバーに侵入、外部のサーバーに侵入するための踏み台として理由するなど
あらゆる行為が可能になる。

## サーバー侵入のプロセス

- ターゲッティング...公式のWebサイト、設定ミスによって公開されているファイルの有無、ネットワークのマッピング、アプリケーションバナーによるバージョンの特定
- スキャン...Pingスイープ、共有スキャン、OS特定、ネットワークリソースの列挙、ユーザーの列挙
- 間接的アタック...ターゲットのサーバーが存在する部屋に侵入すればネットワーク経由でシステムを掌握するより容易 ソーシャルエンジニアリングにより人からパスワードを聞き出す、遠隔操作のプログラムを感染させたり Sniffingによりネットワークを盗聴したりすること
- 直接的アタック...直接ターゲットサーバーを攻撃 ターゲットのサーバ上にシェルアカウントを持っている場合は管理者権限奪取を目標 Exploit
- 後片付け...セキュリティ強化を遅らせるため、ログを消すと怪しいので改竄するのが理想 また毎回同じ攻撃をしかけるのは手間がかかるのでバックドアという裏口を設置しておき、次回からの侵入を簡単に行えるようにする。バックドアを使用すると踏み台にすることも容易になる。 
- 宝探し...企業のサーバーであれば社外秘の情報(受託情報、個人情報、未発表の自社製品情報など)を発見できるかもしれない。共有サーバー、メールサーバー、DBサーバーは可能性が高い。またソフトウェアを開発していればリポジトリからソースファイルを取得することもできる。

## Kali Linux

Kali Linuxはペネストレーションに特化したLinuxでセキュリティやアタックに関するツールが標準でインストールされている。
昔のBackTrack LinuxというOSの後継バージョン。

Kaliはヒンズー教の破壊神のこと。

[インストール手順](http://qiita.com/mrnk/items/3ac482dc9aaf47176f30)
[Kali Linux 2.0 を Virtualbox（Mac）に構築する](http://qiita.com/Okusan818/items/77e56f9747a20f07b91a)

```
vagrant init starflame/kali2_linux4.0.0_amd64
vi Vagrantfile
```

```
config.vm.provider "virtualbox" do |vb|
    # Display the VirtualBox GUI when booting the machine
    vb.gui = true

    # Customize the amount of memory on the VM:
    vb.memory = "1024"
end
```

```
vagrant up --provider virtualbox
```

## Top10 Security Tools

| ツール名 | 概要 |
| ------ | ------ |
|  aircrack-ng  |  無線LAN向けのパスワードクラッカー  |
|  burpsuite  |  Local Proxy(クライアントとサーバー間のパケットを変更できる)  |
|  hydra  |  高機能なオンラインパスワードクラッカー  |
|  john  |  高機能なオフラインパスワードクラッカー  |
|  maltego  |  ソーシャルエンジニアリング支援ツール  |
|  metasploit framework  |  Exploitの作成・実行を行うフレームワーク  |
|  nmap  |  高機能なポートスキャナー  |
|  owasp-zap  |  WEBサイトの脆弱性を診断するためのペネストレーションテストツール  |
|  sqlmap  |  SQLインジェクションの脆弱性をテストするツール  |
|  wireshark  |  有名なパケットキャプチャー  |

## 光海底ケーブル

各国をまたがる長距離の有線ケーブル。
全世界の海域に施設されていて、その総延長は100万kmを超える。
インターネットの生命線。
毎年数十%の割合で増加。

もし主要幹線にあたる海底ケーブルが故障したり切断されたりすると場合によっては一部の国が完全にインターネットから遮断される可能性がある。

## Ping

指定したホストがネットワーク上に存在するかどうかを判定することができる。
PingはICMPプロトコルを利用して実現化している。

エコー要求メッセージ(タイプ8)を送信し
ICMPエコー応答メッセージ(タイプ0)が返ってくれば到達可能。
それ以外の時は到達不能。

## traceroute

tracerouteは指定したホストまでの経路を調べるプログラム。
ネットワーク障害が発生した際にどのルーターで問題が発生しているのかを特定するために使用されたりする。

## nslookup

nslookup(name server lookup)はDNSリゾルバのプログラム。
DNSサーバーからの返答を画面に表示する。

## whois

whoisとは登録されているサーバー情報を確認すること。
情報はwhoisサーバーに存在していて、そのDBにアクセスすることで
サーバーの管理者の情報を得ることができる。

## host

hostはDNSサーバーで名前解決する情報について問い合わせをするコマンド。
nslookupやdigと同様にDNSに関する各種の調査やデバッグに使用できる。

## Nmap

高機能ポートスキャナー。
ステルススキャン、広域スキャン、フィンガープリンチングと呼ばれるOSを推測する機能を備えている。
マトリックスやダイ・ハード4.0、バトル・ロワイアルなど、ハッキング場面によく登場することでも有名。

KaliにはNmapはインストール済み。

[Mac に Nmap をインストールする](https://macperson.net/mac-nmap/)

## Zenmap

ZenmapはNmapのGUIフロントエンド。

[Mac のポートスキャンツール Zenmap をインストールして使ってみる](https://www.websec-room.com/2014/02/08/1806)

## Netcraft

NetcraftのWebサイトにおいてWebServer Searchを行うことで
指定したWebサーバーの情報を調べることができる。
httpdの種類とそのバージョン、指定したWebサーバーがどのくらいの期間稼働し続けているかといった情報。

## Sniffing

SniffingとはLAN内でやりとりされるパケットを取得すること。
ネットワークの盗聴行為のことを指す。

## tcpdump

tcpdumpはCUIで動作するパケットキャプチャ。

## Wireshark

パケットアナライザ。

## Cain & Abel

Cain & Abel はパスワードクラッカー。Windowsで動作する。

## Fiddler

Fiddlerはフリーで使用できるLocal Proxyの一種。
ブラウザからのHTTP通信が、Fiddlerを経由しての通信になり
HTTPリクエストやHTTPレスポンスの詳細を確認したり、リクエストの内容を改変したりできる。
Windowsの.NET環境で動作する。

## 辞書ファイル

辞書ファイルとは1行に1単語を記述したテキストファイルのこと。
パスワード解析において、辞書式アタックを行う際に使用する。
つまりパスワード候補を列挙したテキストファイルのこと。

よく使われるパスワードの辞書ファイルをネットからDLして使用することもある。

## crunh

crunchは辞書ファイルを生成するためのソフトウェア。
Unixで動作してKaliにはデフォルトでインストールされている。

## THC-Hydra

THC-HydraはThe Hacker's Choiceが開発しているオンラインパスワードクラッカー。
Linuxで動作する。

## Metasploit

MetasploitはExploitの作成や実行するためのフレームワーク。
セキュリティの世界ではペネストレーションツールとして使用される。

## w まだは who

wコマンドまたはwhoコマンドは現在ログインしているユーザーを確認するUnixコマンド。
wコマンドはwhoコマンドと同じ区ログイン中のユーザー情報を表示するがwhoコマンドより詳しい情報を表示する。

## Unixシステムにおけるログ消し

簡単にログを削除してくれるプログラムは昔から存在している。
Packet Stormにはログ消しツールのカテゴリーがあるので、最新のプログラムを探すことができる。

## ファイル時刻情報の改竄

専用ツールを使用すれば簡単に時刻情報を改竄することができる。
ただ、ファイルシステムを理解するには手動でやってみるのが早い。

- ファイルの時刻情報...3種類ある(atime, ctime, mtime)

ファイルシステムによってはcrtimeがある。

- atime...最終参照時刻
- ctime...最終状態変更時刻
- mtime...最終修正時刻
- crtime...作成時刻

atimeとmtimeの改竄の結果、管理者に不正なファイルの存在を気づかせない。

```
$ ls -u  #atimeを表示
$ ls -cl #mtimeを表示
$ touch test.txt
$ touch -d "2014/9/11 00:11:22 pm" test.txt #atimeとmtimeの変更
$ touch -a -d "2014/9/11 00:11:22 pm" test.txt #atimeのみ変更
$ touch -m -d "2014/9/11 00:11:22 pm" test.txt #mtimeのみ変更
```

## Netcat

NetcatはTCP・UDPを使用してデータを読み書きするためのツール
サーバーとしてポートをlistenしたり、クライアントとして接続先にconnectしてデータを送信したりできる。
ハッキングの世界ではバックドアとして利用されることもある。

## Cryptcat

Cryptcatは暗号化通信を実現したNetcat。
従来のNetcatと同様の構文で操作できるネットワークリスナー。

## 最後に

ハッカーの学校を読んで、
ハッキングやセキュリティまわりで便利なツーツが多数あることがわかった。